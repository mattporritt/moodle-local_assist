define("local_assist/tools",["exports","jquery"],(function(_exports,_jquery){var obj;
/**
   * Module to load and render the tools for the AI assist plugin.
   *
   * @module     local_assist/tools
   * @copyright  2023 Matt Porritt <matt.porritt@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};let startX=0;const handleSelection=async event=>{const selectedText=window.getSelection().toString().trim(),endX=event.clientX;if(window.console.log(selectedText),selectedText.length>0){(0,_jquery.default)("#text-selection-popover").popover("hide").remove();const x=startX<endX?endX:startX,y=event.clientY,popover=document.createElement("div");popover.id="text-selection-popover",popover.style.position="absolute",popover.style.top="".concat(y,"px"),popover.style.left="".concat(x,"px"),document.body.appendChild(popover),(0,_jquery.default)(popover).popover({placement:"right",content:"Your popover content here",title:"Popover Title",html:!0,trigger:"manual",offset:"15, 0"}),(0,_jquery.default)(popover).popover("show")}else(0,_jquery.default)("#text-selection-popover").popover("hide").remove()},addListenerToIframe=iframe=>{(iframe.contentDocument||iframe.contentWindow.document).addEventListener("mouseup",handleSelection)};_exports.init=()=>{window.console.log("loaded");document.querySelectorAll("*").forEach((el=>{el.shadowRoot&&el.shadowRoot.addEventListener("mouseup",handleSelection)}));document.querySelectorAll("iframe").forEach(addListenerToIframe),document.addEventListener("mouseup",handleSelection),document.addEventListener("mousedown",(event=>{startX=event.clientX}))}}));

//# sourceMappingURL=tools.min.js.map